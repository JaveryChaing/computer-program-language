## 物联网

- #### **嵌入式技术**

  > **嵌入式系统**：
  >
  > 1. **单片机（MCU）**
  >
  > 2. **嵌入式Linux**
  >
  >    | 特性       | 单片机                           | 嵌入式Linux                      |
  >    | ---------- | -------------------------------- | -------------------------------- |
  >    | 处理器     | 单核，资源受限                   | 多核可选，资源相对丰富           |
  >    | 操作系统   | 无或简单的RTOS                   | 完整的Linux操作系统              |
  >    | 内存/存储  | 几KB到几MB                       | 几MB到几GB                       |
  >    | 处理能力   | 低                               | 高                               |
  >    | 实时性     | 高                               | 相对较低 (可通过实时扩展提高)    |
  >    | 功耗       | 低                               | 相对较高                         |
  >    | 应用场景   | 简单控制，传感器节点，低功耗设备 | 复杂应用，网络设备，图形界面应用 |
  >    | 开发复杂度 | 低                               | 高                               |
  >    | 成本       | 低                               | 高                               |
  >    | 编程语言   | 主要C语言                        | C、C++、Python等多种语言         |
  >
  > 
  >
  > **指令集**：
  >
  > 1. **x86/x64:** 应用于高性能计算，服务器，PC
  > 2. **ARM:** 移动设备、嵌入式系统，服务器，可穿戴设备
  > 3. **RISC-V**：物联网，嵌入式系统
  > 4. **PowerPC**：嵌入式系统，
  > 5. **MIPS:** 应用于嵌入式系统的指令集架构。
  >
  > 
  >
  > 基于ARM指令的CPU架构
  >
  > - **Cortex系列：** Arm 公司研发的Cortex系列处理器架构
  >
  >   - **Cortex-M**：针对微控制器应用，强调低功耗、成本效益和实时性能（传感器，物联网）
  >
  >   - **Cortex-R**：针对实时应用，强调高性能和确定性（汽车，工业控制）
  >
  >   - **Cortex-A**：针对应用处理器，强调高性能和多功能性（手机，平板，电脑）
  > - 
  >
  > 
  >
  > 
  >
  > 
  >
  
- #### 物联网协议

  > MQTT/MQTT-SN：
  >
  > - | 特性     | MQTT                     | MQTT-SN                      |
  >   | :------- | ------------------------ | ---------------------------- |
  >   | 网络环境 | TCP/IP 网络              | 低带宽、高延迟网络           |
  >   | 资源消耗 | 相对较高                 | 非常低                       |
  >   | 消息传输 | TCP, 可靠，有 QoS        | UDP 或其他，可靠性机制自实现 |
  >   | 可靠性   | 通过 TCP 保证            | 通过自身机制保证             |
  >   | 应用场景 | 稳定网络连接的物联网应用 | 资源受限的物联网应用         |
  >   | 复杂性   | 相对复杂                 | 相对简单                     |
  >   | 网络协议 | TCP                      | UDP 或其他低功耗网络协议     |
  >
  >   MQTT协议数据包类型
  >
  >   1. **CONNECT (连接):** 客户端用于连接到服务器。包含客户端标识符、协议版本、连接标志（例如，遗嘱消息、清洁会话等）以及可选的用户名和密码。
  >   2. **CONNACK (连接确认):** 服务器对CONNECT请求的响应。指示连接是否成功，以及会话是否被清洁。
  >   3. **PUBLISH (发布):** 用于发布消息到主题。包含主题名称、QoS级别（服务质量）、保留标志（是否保留最后一条消息）、消息ID（对于QoS 1和2）以及消息有效负载。
  >   4. **PUBACK (发布确认):** 服务器对QoS 1消息的PUBLISH请求的确认。
  >   5. **PUBREC (发布接收):** 服务器对QoS 2消息的PUBLISH请求的接收确认。
  >   6. **PUBREL (发布释放):** 客户端对PUBREC的响应。
  >   7. **PUBCOMP (发布完成):** 服务器对PUBREL的响应，表示QoS 2消息的发布完成。
  >   8. **SUBSCRIBE (订阅):** 客户端用于订阅一个或多个主题。包含主题过滤器和QoS级别。
  >   9. **SUBACK (订阅确认):** 服务器对SUBSCRIBE请求的响应。包含每个主题过滤器的QoS级别。
  >   10. **UNSUBSCRIBE (取消订阅):** 客户端用于取消订阅一个或多个主题。
  >   11. **UNSUBACK (取消订阅确认):** 服务器对UNSUBSCRIBE请求的响应。
  >   12. **PINGREQ (心跳请求):** 客户端发送心跳请求以保持连接。
  >   13. **PINGRESP (心跳响应):** 服务器对PINGREQ请求的响应。
  >   14. **DISCONNECT (断开连接):** 客户端用于断开与服务器的连接。
  >
  > CoAP：
  >
  > - | 特性     | CoAP                   | HTTP            |
  >   | -------- | ---------------------- | --------------- |
  >   | 传输协议 | UDP                    | TCP             |
  >   | 连接     | 无连接                 | 面向连接        |
  >   | 报文大小 | 小                     | 相对较大        |
  >   | 开销     | 低                     | 高              |
  >   | 延迟     | 低                     | 高              |
  >   | 可靠性   | 可选的可靠性机制       | 内置可靠性机制  |
  >   | 资源模型 | 基于资源的模型         | 基于 URI 的模型 |
  >   | 应用场景 | 受限环境（物联网设备） | 通用网络应用    |
  >
  > LwM2M：在CoAP基础上提供设备发现，资源读写及固件更新功能
  >
  > LoRaWAN：定义了如何在LoRa无线电网络上传输数据包。（专注于长距离、低功耗、低数据速率的应用）
  >
  > NB-IoT（LPWAN）：
  >
  > - | 特性       | LoRaWAN                | NB-IoT                       |
  >   | ---------- | ---------------------- | ---------------------------- |
  >   | 技术       | 扩频技术，非授权频谱   | 蜂窝网络技术，授权频谱       |
  >   | 网络架构   | 星型网络               | 蜂窝网络                     |
  >   | 覆盖范围   | 非常广 (10km+)         | 较广 (几公里)                |
  >   | 功耗       | 极低                   | 低                           |
  >   | 数据速率   | 较低 (kbps)            | 较高 (kbps-数百kbps)         |
  >   | 成本       | 设备和部署成本相对较低 | 设备和部署成本相对较高       |
  >   | 安全性     | 可靠，但取决于具体实现 | 高，受益于蜂窝网络安全机制   |
  >   | 部署复杂度 | 相对容易               | 相对复杂                     |
  >   | 适用场景   | 长距离、低功耗应用     | 较高数据速率和可靠性要求应用 |
  >
  
- #### 物联网应用

  > **医疗保健:**
  >
  > 1. 远程病人监控: 通过可穿戴设备和传感器跟踪患者的健康指标，例如心率、血压和血糖水平，并将数据实时传输给医疗专业人员。
  > 2. **智能医疗设备:** 连接的医疗设备，例如胰岛素泵、心脏起搏器和呼吸机，可以远程监控和管理，提高患者护理的效率和安全性。
  > 3. **医院管理:** 物联网技术用于优化医院运营，例如资产追踪、环境监控和能源管理
  >
  >  **制造业:**
  >
  > 1. **预测性维护:** 通过传感器监控设备的运行状况，预测潜在的故障并进行及时的维护，从而减少停机时间和维护成本。
  >
  > 2. **供应链管理:** 跟踪产品从制造到交付的整个过程，提高效率和透明度。
  > 3. **自动化:** 物联网技术支持工厂自动化，提高生产效率和产品质量
  >
  >  **零售业:**
  >
  > 1. **智能货架:** 跟踪库存水平，自动补货，并提供实时销售数据。
  > 2. **客户体验:** 通过物联网设备，例如智能试衣镜和互动显示屏，提升客户购物体验。
  > 3. **供应链优化:** 跟踪产品从供应商到商店的整个过程，提高效率和降低成本
  >
  > **交通运输:**
  >
  > 1. **车队管理:** 通过GPS跟踪和数据分析，优化车队运营，提高效率和安全性。
  > 2. **智能交通系统:** 通过传感器和数据分析，优化交通流量，减少拥堵和事故。
  > 3. **自动驾驶:** 物联网技术是自动驾驶汽车的关键组成部分
  >
  >  **能源:**
  >
  > 1. **智能电网:** 通过传感器和数据分析，优化能源分配和使用，提高效率和可靠性。
  >
  > 2. **能源管理:** 监控和管理能源消耗，降低成本和减少碳排放。
  >
  > 3. **可再生能源:** 监控和管理可再生能源发电设备，提高效率和可靠性
  >
  > **农业:**
  >
  > 1. **精准农业:** 通过传感器监控土壤条件、天气和作物生长情况，优化灌溉和施肥，提高产量和降低成本。
  >
  > 2. **牲畜管理:** 跟踪牲畜的健康状况和位置，提高效率和安全性。
  >
  > 3. **自动化:** 自动化灌溉、施肥和收获等农业作业
  >
  >   **建筑和房地产：**
  >
  >    1. **智能建筑:** 通过传感器监控建筑物的环境条件，例如温度、湿度和空气质量，优化能源使用和提高舒适度。
  >2. **安全监控:** 通过摄像头和传感器监控建筑物的安全状况，防止盗窃和破坏。
  >3. **资产管理:** 跟踪建筑物内的资产，例如设备和家具，提高效率和安全性。
  
- #### 工业物联网

  > 工业物联网(IoT)融合OT和IT，通过数据采集、分析、决策和执行闭环，实现全面的数字化转型。它利用通信技术、边缘计算和云计算，实现数据互联互通和高效处理。大数据和人工智能则为数据分析提供支持，优化生产、加工、使用等环节，提升效率和效益。 IoT帮助企业获取并分析实时数据，识别异常（生产、成本、质量、销售等），从而进行战略层面的分析（市场、财务、研发、生产、设备等），最终实现决策优化和价值创造。具体目标包括：提高效率（设备、人员、资源）、降低成本、提升产品质量、增强竞争力、加快产品交付。对中小企业而言，及时交付订单尤为关键。 IoT的优势在于其自主感知、实时、真实的数据特点，避免了人为因素的影响。 它不仅实现企业内部（设备、流程、系统、人员）的互联，也实现企业上下游（供应商、经销商、客户）的横向互联，覆盖产品全生命周期。许多IoT应用始于设备资产管理，逐步扩展到人员效能和产能管理，最终实现更高层次的决策。 IoT是企业长期发展的关键，但企业需明确数字化转型目标（所需数据、团队能力、政策支持），并认识到转型收益的不确定性和不转型风险的确定性。转型动力可能源于效率、成本、质量、交付等方面的压力，也可能来自竞争对手的压力。
  >
  > 
  >
  > 工业物联网实施常面临沟通障碍：甲方需求不明确，乙方方案不清。根本原因是甲方战略不明，目标和价值不清，导致能力评估和资源匹配困难，高层战略难以落地基层执行。解决方法是：明确公司定位、产业链地位、客户关系及价值目标，并梳理业务痛点。
  >
  > 
  >
  > 工业物联网项目收益可分为：直接收益（降本增效，创造收入）、间接收益（提升管理水平、产品质量、客户满意度，甚至股价上涨）、刚性收益（满足法律法规或公共安全要求的必要投入）和转换收益（辅助实现整体战略目标的收益，例如SCADA系统提升自动化生产效率）。 企业实施工业物联网应全面衡量短期和长期收益。初期目标是解决运营管理和设备资产绩效问题，后续则需进一步整合数据，挖掘数据价值，这需要耐心和长远眼光。决策层需明辨哪些技术值得持续投资，哪些是短期噱头。所有参与方（业务方、解决方案商、内部团队）都应避免只关注技术或投资，而忽略回报和业务价值。
  >
  > 
  >
  > **工业物联网感知**：通过各种传感器和设备收集来自工业环境中的机器、设备和过程的数据。 这构成了 IoT 系统的基础，为后续的分析、监控和控制提供信息
  >
  > 工业物联网架构中，感知层位于底层。工业数据采集涵盖工厂现场（主要通过有线网络）和工厂外智能产品/移动设备（主要通过无线网络），数据来源包括设备、产品、工艺、环境和人员等，以及ERP、MES、APS等传统信息系统。采集数据具有多种工业协议并存、时间戳信息和强实时性等特点。传感器作为物理世界的探测器，将物理信号转换为电信号，种类繁多，并正朝着小型化、低功耗方向发展。物联网强调数据的实时性和真实性，后者依赖于对物理世界的感知，无需人为干预。工业物联网需整合OT和IT数据，数据来源多样化，通过整合物联网数据、运营数据、运维数据和设计仿真数据，打破信息孤岛，实现数据联动。
  >
  > 
  >
  > **物联网网络连接：**工厂和数据中心间的互联互通依赖网络连接，如同人体的血液循环系统。这包括工厂内部的OT网络（现场总线、工业以太网）和IT网络，以及外部的网络专线和移动通信网络。 网络连接分为两个层次：网络互联（物理连接和数据传输）和数据互通（数据结构和语义理解）。 目前OT和IT网络互联技术：1.**工业网关:** 这是最常见的方法。工业网关充当OT网络和IT网络之间的桥梁，将不同协议（例如Modbus、Profibus、Profinet等OT协议和TCP/IP、Ethernet等IT协议）进行转换；2. **边缘计算网关:** 这类网关不仅进行协议转换，还在边缘侧进行数据处理和分析，减少了对IT网络的负载，并提高了实时性。 它们通常集成传感器数据采集、数据预处理、边缘计算引擎等功能；3. **消息队列 (Message Queue):** 例如MQTT、AMQP等，用于在OT网络和IT网络之间异步地交换数据；4.**工业数据集成平台:** 这些平台提供更高级的功能，例如数据转换、数据集成、数据分析和可视化。 它们可以简化OT和IT网络的集成过程，并提供更全面的数据管理功能
  >
  > 
  >
  > **工业领域通信协议**：
  >
  > - **现场总线 (Fieldbus) 协议:** 这些协议主要用于工厂车间内设备之间的短距离通信
  >
  >   1. **PROFIBUS (PROcess FIeld BUS):** 广泛应用于过程自动化领域，支持多种通信模式，包括DP (Decentralized Peripherals) 和PA (Process Automation)。
  >   2. **PROFINET (PROcess FIeld NET):** 基于以太网的工业以太网协议，是PROFIBUS的升级版，具有更高的带宽和更强的功能。
  >   3. **Modbus:** 一种简单的串行通信协议，广泛应用于各种工业设备，具有良好的兼容性。 Modbus TCP是其基于以太网的版本。
  >   4. **EtherCAT (Ethernet for Control Automation Technology):** 一种高性能的工业以太网协议，具有极高的数据传输速率和同步精度。
  >   5. **CANopen:** 基于CAN总线的应用层协议，广泛应用于运动控制和自动化领域。
  >   6. **DeviceNet:** 基于CAN总线的现场总线协议，主要用于连接小型设备。
  >   7. **AS-Interface (Actuator Sensor Interface):** 一种简单的现场总线协议，用于连接传感器和执行器。
  >   8. **CC-Link:** 三菱电机开发的现场总线协议，具有高速、高可靠性的特点。
  >   9. **Foundation Fieldbus:** 一种基于现场总线的数字通信协议，主要用于过程自动化领域。
  > - **工业以太网协议:** 这些协议基于以太网技术，提供更高的带宽和更强的功能
  >
  >   - **PROFINET:** (已在现场总线中提及)
  >   - **EtherNet/IP:** 基于以太网的工业以太网协议，由ODVA组织维护，广泛应用于自动化领域。
  >   - **Powerlink:** 一种实时以太网协议，主要用于运动控制领域。
  >   - **Modbus TCP:** (已在现场总线中提及)
  >   - **Ethernet POWERLINK:** 实时以太网协议，用于高性能运动控制应用。
  > - **无线通信协议**
  >
  >   - **WirelessHART:** 基于HART协议的无线通信协议，用于过程自动化领域。
  >   - **WPAN**：无线个人局域网
  >     1. **Zigbee:** 低功耗无线通信协议，常用于传感器网络。
  >     2. 蓝牙
  >     3. WIFI
  >   - **RFID**：射频识别技术
  >   - **LTE**：蜂窝网络
  >   - **NB-IOT**
  > - **其他**
  >
  >   - **OPC UA (OLE for Process Control Unified Architecture):** OPC UA是工业设备和系统间互通的平台无关标准，支持多种通信协议。
  >
  >   - **MQTT (Message Queuing Telemetry Transport):** 轻量级的发布/订阅消息协议，常用于物联网应用，也逐渐应用于工业领域。
  >
  > 
  >
  > **边缘计算与边缘协同**：边缘计算是指将计算、数据处理和存储功能从云端转移到更靠近数据源的网络边缘。边缘协同是在网络边缘设备（例如物联网设备、边缘服务器、智能手机等）之间进行协作，以实现特定任务或目标。
  >
  > - **分布式计算:** 计算任务分散到多个边缘设备上进行处理，而不是集中在单一服务器或云端。
  > - **低延迟:** 由于数据处理更靠近数据源，因此延迟显著降低，这对于实时应用至关重要。
  > - **带宽效率:** 通过在边缘进行数据处理和分析，减少了需要传输到云端的数据量，从而节省带宽。
  > - **增强隐私:** 数据处理在本地或附近进行，减少了数据传输过程中的隐私风险。
  > - **容错性:** 系统更具容错性，因为单个设备的故障不会影响整个系统的运行。
  > - **自主性:** 边缘设备可以进行一定程度的自主决策和控制，无需依赖云端。
  >
  > - **降低延迟:** 将处理移至边缘可以显著减少数据传输时间，从而实现更快的响应时间，对于需要实时处理的应用至关重要（例如自动驾驶、工业自动化）。
  >
  > - **减少带宽消耗:** 通过在边缘处理数据，只有必要的数据才会被传输到云端，从而节省带宽成本和网络拥塞。
  >
  > - **提高可靠性:** 如果网络连接中断，边缘设备仍然可以继续运行，保证系统的持续性。
  >
  > - **增强安全性:** 敏感数据可以在本地处理和存储，减少数据在传输过程中的安全风险。
  >
  > - **支持本地分析:** 边缘设备可以进行实时数据分析，并根据分析结果做出快速决策，而无需等待云端处理。
  >
  > - **处理大量数据:** 许多物联网应用会产生大量数据，边缘计算可以帮助分担云端的处理负担。
  >
  > 
  >
  > AIOT：**人工智能与物联网的融合**。它结合了人工智能（AI）的分析能力和物联网（IoT）的连接能力，创造出更智能、更自动化、更有效的系统。 人工智能（AI）旨在模拟人类思维，创造出能像人类一样反应的智能应用。其研究涵盖机器人、语言识别、图像识别等多个领域。机器学习是人工智能的一种实现方法，通过算法分析数据，学习并预测真实世界事件。它利用大量数据训练模型，而非硬编码程序，常见的算法包括决策树、聚类等。深度学习是机器学习的子集，它模拟人脑神经网络结构进行学习，在计算机视觉和自然语言处理等领域表现突出，是目前最热门的机器学习方法。 深度学习通过数据输入和反复训练，优化模型参数以实现泛化能力。
  >
  > 
  >
  > **预测型维护：**利用数据分析预测设备故障，从而优化维护策略的工业设备维护方法。 预测性维护通过传感器数据采集和分析，准确预测设备故障发生时间，从而实现：
  >
  > - **降低停机时间和维护成本：** 提前发现并解决问题，避免意外停机造成的损失。
  > - **提高设备可靠性和生产效率：** 优化维护计划，最大限度地延长设备运行时间。
  > - **减少资源浪费：** 避免不必要的预防性维护和部件更换。 预测性维护目前是工业物联网的重要应用，与边缘计算的结合更是研究热点。，但随着数据分析技术的发展，其应用价值日益凸显。
  >
  > 
  >
  > **工业自动化：**工业自动化利用技术控制和自动化工业流程，提升效率、质量和安全，同时降低成本和人力需求。核心技术包括：可编程逻辑控制器(PLC)、工业机器人、传感器和执行器、人机界面(HMI)、工业网络(如以太网/IP)、工业互联网(IIoT)、CAD/CAM、工业视觉系统、运动控制系统及伺服/步进电机。
  >
  > 
  >
  > **云计算：**
  >
  > | 特性         | IaaS                          | PaaS                          | SaaS                         |
  > | ------------ | ----------------------------- | ----------------------------- | ---------------------------- |
  > | **提供内容** | 基础设施 (虚拟机、存储、网络) | 平台 (操作系统、环境、数据库) | 软件应用                     |
  > | **客户负责** | 几乎所有                      | 应用软件、数据                | 数据（有时），用户和访问管理 |
  > | **灵活性**   | 高                            | 中                            | 低                           |
  > | **成本**     | 可控，按需付费                | 中等                          | 通常固定费用或按用户付费     |
  > | **技术要求** | 高                            | 中                            | 低                           |
  >
  > 云计算（分布式计算）：分布式系统中**自治性、可管理性**以及**面向服务架构 (SOA)** 。 自治性强调服务内部运行的独立性，而可管理性则关注服务的协调管理。 为了简化复杂的进程间通信 (如基于 Socket 的通信)，RPC 框架应运而生，它隐藏了底层网络细节，使远程服务调用如同本地调用一样简单。 SOA 则是一种将系统分解为独立、松耦合服务的架构风格，服务间通过定义良好的接口通信，并强调服务自治。 SOA 通过 SOAP 或 RESTful HTTP 服务实现，两者都基于 RPC 的思想，并利用 XML 或 HTTP 等协议进行消息交换。 SOA 的主要优势在于其灵活性、可扩展性和可重用性，使其能够更好地适应变化的业务需求。
  >
  > 
  >
  > **工业物联网平台**：
  >
  > - **设备注册与接入**：IoT Hub是物联网平台的数据入口，负责设备注册、接入和管理。设备通过标准物联网协议将数据上传至平台，平台也可通过IoT Hub下发命令控制设备。它服务于设备开发人员（负责设备接入）和设备管理人员（负责设备管理，包括注册、状态监控、升级、控制和拓扑维护）。
  >
  >   1. **产品创建:** 在平台上创建产品，填写产品信息（厂商ID、厂商名称、设备类型、协议类型）并定义产品模型（包含属性、命令、事件）。 例如，对于一个智能锁，模型可能包含“锁状态”、“电池电量”等属性，“开锁”、“关锁”等命令，以及“低电量报警”等事件
  >   2. **设备注册:**
  >      - 手动注册: 逐个或批量导入设备信息。平台为每个设备分配唯一的设备名称 (DeviceName) 和设备密钥 (DeviceSecret)。 这些信息需要烧录到设备中。
  >      - 自动注册: 设备端烧录相同的产品信息 (ProductKey)，连接平台时自动注册，平台分配 DeviceName 和 DeviceSecret。 此方式适用于大规模部署和开箱即用场景，但需注意安全性。 
  >      -  设备连接方式:设备可直接连接 IoT Hub，或通过边缘节点（例如网关）间接连接。
  >   3. 设备影子：设备虚拟状态（云端存储的 JSON 文档，反映了设备的属性、期望状态和报告状态）
  >      - 状态同步/数据持久化：设实时记录设备状态，即使离线也能保存最新状态。设备上线后，可轻松同步云端和设备状态。
  >      - 离线状态处理/双向通信：应用程序仍然可以通过设备影子与设备进行交互（设备重新连接时下发指令）
  >      - 事件通知
  >
  > - 规则引擎：自动化决策和操作，它允许设备在本地处理数据并根据预定义的规则采取行动
  >
  > 

